kind: app
version: 0.1.5
app:
  name: Debug_V3_CodeOutputs
  description: æ ¹æ®ç”¨æˆ·è¾“å…¥è‡ªåŠ¨åˆ¤æ–­æ˜¯å¦æ¶‰åŠé€€æ¬¾ï¼Œå¹¶åˆ†åˆ«å¤„ç†ã€‚
  mode: workflow
  icon: ğŸ¤–
  icon_background: '#FFEAD5'
workflow:
  graph:
    nodes:
    - id: start
      type: custom
      position:
        x: 0
        y: 0
      data:
        title: å¼€å§‹
        desc: ''
        type: start
        variables:
        - name: query
          type: string
          description: null
    - id: router
      type: custom
      position:
        x: 200
        y: 0
      data:
        title: åˆ¤æ–­æ„å›¾
        desc: ''
        type: if-else
        cases:
        - case_id: 'true'
          logical_operator: and
          conditions:
          - id: c_true
            variable_selector:
            - start
            - query
            comparison_operator: contains
            value: é€€æ¬¾
            varType: string
    - id: handle_refund
      type: custom
      position:
        x: 400
        y: 0
      data:
        title: å¤„ç†é€€æ¬¾
        desc: ''
        type: llm
        model:
          provider: openai
          name: gpt-4o
          mode: chat
        vision:
          enabled: false
        memory:
          window:
            enabled: false
            size: 10
        context:
          enabled: false
          variable_selector: []
        prompt_template:
        - role: system
          text: ä½ æ˜¯ä¸€åä¸“ä¸šçš„å®¢æœä»£è¡¨ï¼Œä¸“é—¨å¤„ç†ç”¨æˆ·çš„é€€æ¬¾è¯·æ±‚ã€‚è¯·æ ¹æ®ç”¨æˆ·çš„é—®é¢˜æä¾›æ¸…æ™°ã€åˆè§„çš„é€€æ¬¾æŒ‡å¼•ã€‚
        - role: user
          text: '{{#start.query#}}'
    - id: handle_chat
      type: custom
      position:
        x: 0
        y: 200
      data:
        title: é€šç”¨å¯¹è¯
        desc: ''
        type: llm
        model:
          provider: openai
          name: gpt-4o
          mode: chat
        vision:
          enabled: false
        memory:
          window:
            enabled: false
            size: 10
        context:
          enabled: false
          variable_selector: []
        prompt_template:
        - role: system
          text: ä½ æ˜¯ä¸€åå‹å¥½ä¸”çŸ¥è¯†ä¸°å¯Œçš„å®¢æœåŠ©æ‰‹ï¼Œèƒ½å¤Ÿå›ç­”å„ç§å¸¸è§é—®é¢˜å¹¶æä¾›å¸®åŠ©ã€‚
        - role: user
          text: '{{#start.query#}}'
    - id: end
      type: custom
      position:
        x: 200
        y: 200
      data:
        title: ç»“æŸ
        desc: ''
        type: end
        outputs:
        - variable: res
          value_selector:
          - handle_refund
          - text
          value: '{{#handle_refund.text#}}'
        - variable: res
          value_selector:
          - handle_chat
          - text
          value: '{{#handle_chat.text#}}'
    edges:
    - id: edge_0
      source: start
      target: router
      sourceHandle: source
      targetHandle: target
      type: custom
    - id: edge_1
      source: router
      target: handle_refund
      sourceHandle: 'true'
      targetHandle: target
      type: custom
    - id: edge_2
      source: router
      target: handle_chat
      sourceHandle: 'false'
      targetHandle: target
      type: custom
    - id: edge_3
      source: handle_refund
      target: end
      sourceHandle: source
      targetHandle: target
      type: custom
    - id: edge_4
      source: handle_chat
      target: end
      sourceHandle: source
      targetHandle: target
      type: custom
